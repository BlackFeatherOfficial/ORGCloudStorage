<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Layui</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" type="text/css" media="all" th:href="@{/../static/css/layui.css}"/>
  <script th:src="@{/../static/jquery-3.5.1.min.js}"></script>
  <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->

  <script th:src="@{/../static/layui.js}"></script>
</head>
<script>
  function overviewInit()
  {
    $.ajax({
      url:"updateUserInfo",
      success:function (data,status){
      }
    })
  }

  function sendMailToBlackFeather(){
    window.location.href="mailto:2410600421@qq.com?subject=不文明用户、BUG举报 请选择其一&body=请详细描述问题情况，可附图。恶意发送垃圾邮件，被查处后将收到封号处理";
  }
  function sendMailToWhiteFeather(){
    window.location.href="mailto:908407503@qq.com?subject=使用困难、支付问题、意见反馈 请选择其一&body=请详细描述问题情况，可附图。恶意发送垃圾邮件，被查处后将收到封号处理";
  }
</script>
<body onload="overviewInit()">
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
  <legend th:text="${session.loginUser.userName}+欢迎您"></legend>
</fieldset>

<div class="layui-row" style="padding: 20px">
<!--  左侧6-->
  <div class="layui-col-xs6">
    <!--      第一排-->
    <div class="layui-row" style="padding: 10px">
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe655;</i> </div>
              <div class="code" th:text="总文件数+${session.userInfo.filesCount}">总文件数</div>
              <div class="code" th:text="占用空间+${session.userInfo.filesSize}">占用空间</div>
            </li>
          </ul>
      </div>
    </div>
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe63c;</i> </div>
              <div class="code" th:text="文档数+${session.userInfo.textsCount}">文档数</div>
              <div class="code" th:text="占用空间+${session.userInfo.textsSize}">占用空间</div>
            </li>
          </ul>
        </div>
      </div>
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe6fc;</i> </div>
              <div class="code" th:text="音频数+${session.userInfo.musicsCount}">音频数</div>
              <div class="code" th:text="占用空间+${session.userInfo.musicsSize}">占用空间</div>
            </li>
          </ul>
        </div>
      </div>
  </div>
<!--    第二排-->
    <div class="layui-row" style="padding: 10px">
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe64a;</i> </div>
              <div class="code" th:text="图片数+${session.userInfo.imagesCount}">图片数</div>
              <div class="code" th:text="占用空间+${session.userInfo.imagesSize}">占用空间</div>
            </li>
          </ul>
        </div>
      </div>
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe652;</i> </div>
              <div class="code" th:text="视频数+${session.userInfo.videosCount}">视频数</div>
              <div class="code" th:text="占用空间+${session.userInfo.videosSize}">占用空间</div>
            </li>
          </ul>
        </div>
      </div>
      <div class="layui-col-xs4">
        <div class="grid-demo grid-demo-bg1">
          <ul class="site-doc-icon site-doc-anim">
            <li>
              <div class="layui-anim" data-anim="layui-anim-scale" style="height: auto;width: auto;"> <i style="font-size: 100px" class="layui-icon">&#xe6b2;</i> </div>
              <div class="code" th:text="未知文件数+${session.userInfo.unknownCount}">未知文件数</div>
              <div class="code" th:text="占用空间+${session.userInfo.unknownSize}">占用空间</div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="layui-col-xs6">
    <div class="grid-demo">
      <div class="layui-carousel" id="carousel" lay-filter="carousel">
        <div carousel-item="">
         <a  href="#" onclick="layer.msg('嘻，人家还没开启收费渠道哦w', {icon: 4, time: 800});" style="background-image: url(../static/carousel/carousel1.png);background-size: cover"> </a>
          <a href="#" onclick="sendMailToBlackFeather()" style="background-image: url(../static/carousel/carousel2.png);background-size: cover"> </a>
          <a href="#" onclick="sendMailToWhiteFeather()" style="background-image: url(../static/carousel/carousel3.png);background-size: cover"> </a>
          <div style="background-image: url(../static/carousel/carousel4-2.png);background-size: cover"> </div>
          <div style="background-image: url(../static/carousel/carousel5.png);background-size: cover"> </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="padding: 20px;">
  <div class="layui-progress layui-progress-big" lay-showPercent="false">
    <div class="layui-progress-bar layui-bg-blue"  th:lay-percent="${session.userInfo.percent}+'%'"></div>
  </div>
</div>

<script th:src="@{/../static/layui.js}"></script>

<script>
  layui.use(['carousel', 'form'], function() {
    var carousel = layui.carousel
            , form = layui.form;

    //常规轮播
    carousel.render({
      elem: '#carousel'
      , arrow: 'always'
    });
  })

  layui.use('jquery', function(){
    var $ = layui.$;

    //演示动画
    $('.site-doc-icon .layui-anim').on('click', function(){
      var othis = $(this), anim = othis.data('anim');

      //停止循环
      if(othis.hasClass('layui-anim-loop')){
        return othis.removeClass(anim);
      }

      othis.removeClass(anim);

      setTimeout(function(){
        othis.addClass(anim);
      });
      //恢复渐隐
      if(anim === 'layui-anim-fadeout'){
        setTimeout(function(){
          othis.removeClass(anim);
        }, 1300);
      }
    });
  });


</script>




</body>
</html>